(function(){"use strict";var e={2824:function(e,t,a){var n=a(9242),s=(a(7658),a(3396)),r=a(2483);const o="/login",l="/",i="/registration",u="/registration/confirm",c="/login/recovery_password",p="/login/recovery_password_confirm",v="/login/recovery_password_new",m="/login/recovery_password_success";var d=(0,s.aZ)({__name:"App",setup(e){const t=localStorage.getItem("jwtToken"),a=(0,r.tv)(),n=window.location.pathname;return t||n===o||n===i||a.push({path:o}),(e,t)=>{const a=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(a)}}});const _=d;var f=_;function w(e,t){return(0,s.wg)(),(0,s.iD)("h1",null,"Добро пожаловать")}var y=a(89);const h={},g=(0,y.Z)(h,[["render",w]]);var k=g,b=a(4870),x=a(7139);const C=["type","autocomplete"],T={key:0,class:"error-message"};var P=(0,s.aZ)({__name:"TextInput",props:{label:null,type:null,value:null,errors:null,name:null},emits:["inputText"],setup(e,{emit:t}){const a=e,r=(0,b.iH)([]);(0,s.m0)((()=>{a?.errors?.length&&(r.value=[...a?.errors])}));const o=(0,s.Fl)((()=>r.value?.filter((e=>e.name===a.name)).length)),l=(0,s.Fl)((()=>r.value?.filter((e=>e.name===a.name))[0].message)),i=()=>{r.value=[...r.value?.filter((e=>e.name!==a.name))]},u=(0,b.iH)(!1),c=(0,b.iH)(a.value),p=()=>{u.value=!1},v=()=>u.value=!0,m=e=>{i(),t("inputText",e.target.value)};return(t,a)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("label",{class:(0,x.C_)(["custom-input",{focus:u.value,"width-value":c.value,error:(0,b.SU)(o)}])},[(0,s.wy)((0,s._)("input",{type:e.type,onFocus:v,onBlur:p,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),onInput:m,autocomplete:"password"===e.type},null,40,C),[[n.YZ,c.value]]),(0,s._)("span",null,(0,x.zw)(e.label),1)],2),(0,b.SU)(o)?((0,s.wg)(),(0,s.iD)("span",T,"* "+(0,x.zw)((0,b.SU)(l)),1)):(0,s.kq)("",!0)]))}});const W=P;var Z=W;const I=["onClick"];var j=(0,s.aZ)({__name:"CustomBtn",props:{type:null,text:{default:""},enterPress:{type:Boolean,default:!1}},emits:["clickEvent"],setup(e,{emit:t}){const a=e,r=(0,s.Fl)((()=>{switch(a.type){case"primary":return"btn-primary";case"secondary-icon":return"btn-secondary-icon";default:return""}})),o=()=>t("clickEvent");return(0,s.bv)((()=>{a.enterPress&&document.addEventListener("keyup",(e=>{"Enter"===e.code&&o()}))})),(t,a)=>((0,s.wg)(),(0,s.iD)("button",{class:(0,x.C_)(["btn",(0,b.SU)(r)]),onClick:(0,n.iM)(o,["prevent","stop"])},[(0,s.WI)(t.$slots,"default"),(0,s.Uk)(" "+(0,x.zw)(e.text),1)],10,I))}});const D=(0,y.Z)(j,[["__scopeId","data-v-3bcd04b6"]]);var U=D;const E=e=>((0,s.dD)("data-v-117cc3e2"),e=e(),(0,s.Cn)(),e),S={class:"loader"},H=E((()=>(0,s._)("div",{class:"lds-ring"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1))),q=E((()=>(0,s._)("span",null,"Пожалуйста, подождите",-1))),O=[H,q];function $(e,t){return(0,s.wg)(),(0,s.iD)("div",S,O)}const F={},R=(0,y.Z)(F,[["render",$],["__scopeId","data-v-117cc3e2"]]);var z=R;const L=()=>{const e=(0,b.iH)(!1);return setTimeout((()=>e.value=!0),0),e};var M=a(4161);const B=window.location.host,A=window.location.protocol,N=`${A}//${B}/api/auth/registration`,V=`${A}//${B}/api/auth/registration-confirm`,Y=`${A}//${B}/api/auth/login`,G=e=>((0,s.dD)("data-v-164651c8"),e=e(),(0,s.Cn)(),e),J={key:0,class:"position-absolute position-center-center login-form"},K=G((()=>(0,s._)("h1",{class:"main-title"},"Вход в личный кабинет",-1))),Q={autocomplete:"on"},X=G((()=>(0,s._)("div",{class:"divider"},"или",-1)));var ee=(0,s.aZ)({__name:"LoginForm",setup(e){const t=(0,r.tv)(),a=(0,b.iH)({email:"",password:""}),o=(0,b.iH)(!1),i=(0,b.iH)([]),u=L(),c=()=>{i.value=[];const e=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;let t;for(t in a.value)""===a.value[t]&&i.value.push({name:t,message:"Не заполнено поле"});return!i.value.length&&(e.test(a.value.email)?!i.value.length:(i.value.push({name:"email",message:"Некорректный email"}),!1))},p=e=>new Promise((t=>setTimeout(t,e))),v=async()=>await M.Z.post(Y,{...a.value});let m;const d=async()=>{const e=v(),t=p(400);return await Promise.all([e,t]),await e};async function _(){c()&&(o.value=!0,m&&clearTimeout(m),d().then((e=>{o.value=!1,localStorage.setItem("jwtToken",e.data.token),t.push({path:l})})))}return(e,t)=>{const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(u)?((0,s.wg)(),(0,s.iD)("div",J,[K,(0,s._)("form",Q,[(0,s.Wm)(Z,{errors:i.value,name:"email",value:a.value.email,label:"Email",type:"email",class:"login-email",onInputText:t[0]||(t[0]=e=>a.value.email=e)},null,8,["errors","value"]),(0,s.Wm)(Z,{errors:i.value,name:"password",value:a.value.password,label:"Пароль",type:"password",class:"login-password",onInputText:t[1]||(t[1]=e=>a.value.password=e)},null,8,["errors","value"])]),(0,s.Wm)(U,{type:"primary",text:"Войти",class:"form-btn",enterPress:!0,onClickEvent:_}),X,(0,s._)("span",null,[(0,s.Uk)(" У вас ещё нет аккаунта? "),(0,s.Wm)(r,{to:"/registration"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Зарегистрироваться ")])),_:1})]),o.value?((0,s.wg)(),(0,s.j4)(z,{key:0,class:"position-absolute position-center-center"})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1})}}});const te=(0,y.Z)(ee,[["__scopeId","data-v-164651c8"]]);var ae=te;const ne=e=>((0,s.dD)("data-v-4e21829e"),e=e(),(0,s.Cn)(),e),se={key:0,class:"position-absolute position-center-center registration-form__container"},re=ne((()=>(0,s._)("h1",{class:"main-title"},"Регистрация",-1))),oe={autocomplete:"on",class:"registration-form"},le=ne((()=>(0,s._)("div",{class:"divider"},"или",-1)));var ie=(0,s.aZ)({__name:"RegistrationForm",setup(e){const t=L(),a=(0,b.iH)([]),l=(0,b.iH)({full_name:"",email:"",password:"",repeat_password:""}),i=(0,r.tv)(),c=(0,b.iH)(!1),p=()=>{a.value=[];const e=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu,t=/^(?=.*\d)\w{3,20}$/m;let n;for(n in l.value)""===l.value[n]&&a.value.push({name:n,message:"Не заполнено поле"});return!a.value.length&&(e.test(l.value.email)||a.value.push({name:"email",message:"Некорректный email"}),t.test(l.value.password)?l.value.password!==l.value.repeat_password?(a.value.push({name:"repeat_password",message:"Не совпадают пароли"}),!1):!a.value.length:(a.value.push({name:"password",message:"Пароль должен быть минимум 8 символов и содержать латинские буквы и цифры"}),!1))},v=e=>new Promise((t=>setTimeout(t,e))),m=async()=>await M.Z.post(N,{...l.value});let d;const _=async()=>{const e=m(),t=v(400);return await Promise.all([e,t]),await e};async function f(){p()&&(c.value=!0,d&&clearTimeout(d),_().then((()=>{c.value=!1,i.push({path:u})})))}return(e,r)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",se,[(0,s._)("div",{class:(0,x.C_)({"with-opacity":c.value})},[re,(0,s._)("form",oe,[(0,s.Wm)(Z,{errors:a.value,name:"full_name",label:"Имя",type:"text",value:l.value.email,onInputText:r[0]||(r[0]=e=>l.value.full_name=e),class:"registration-form__item"},null,8,["errors","value"]),(0,s.Wm)(Z,{errors:a.value,name:"email",label:"Email",type:"email",onInputText:r[1]||(r[1]=e=>l.value.email=e),class:"registration-form__item"},null,8,["errors"]),(0,s.Wm)(Z,{errors:a.value,name:"password",label:"Пароль",type:"password",onInputText:r[2]||(r[2]=e=>l.value.password=e),class:"registration-form__item"},null,8,["errors"]),(0,s.Wm)(Z,{errors:a.value,name:"repeat_password",label:"Повторите пароль",type:"password",onInputText:r[3]||(r[3]=e=>l.value.repeat_password=e),class:"registration-form__item"},null,8,["errors"])]),(0,s.Wm)(U,{type:"primary",text:"Зарегистрироваться",class:"form-btn",enterPress:!0,onClickEvent:f}),le,(0,s._)("span",null,[(0,s.Uk)(" У вас уже есть аккаунт? "),(0,s.Wm)(i,{to:(0,b.SU)(o)},{default:(0,s.w5)((()=>[(0,s.Uk)(" Войти ")])),_:1},8,["to"])]),c.value?((0,s.wg)(),(0,s.j4)(z,{key:0,class:"position-absolute position-center-center"})):(0,s.kq)("",!0)],2)])):(0,s.kq)("",!0)])),_:1})}}});const ue=(0,y.Z)(ie,[["__scopeId","data-v-4e21829e"]]);var ce=ue;const pe={key:0},ve=(0,s._)("span",{class:"d-block"},"Не пришёл код?",-1),me=["onClick"],de={key:1},_e=(0,s._)("span",null,"Повторно отправить код можно через: ",-1),fe={class:"fw-b"};var we=(0,s.aZ)({__name:"SendCode",setup(e){const t=(0,b.iH)(59),a=(0,b.iH)(!1);let r;const o=()=>{t.value-1?t.value--:(a.value=!0,clearInterval(r))},l=()=>{t.value=59,a.value=!1,r=setInterval(o,950)};return(0,s.bv)((()=>{r=setInterval(o,950)})),(e,r)=>a.value?((0,s.wg)(),(0,s.iD)("div",pe,[ve,(0,s._)("span",null,[(0,s._)("a",{href:"",onClick:(0,n.iM)(l,["prevent"])}," Нажмите здесь ",8,me),(0,s.Uk)(", чтобы повторно отправить код ")])])):((0,s.wg)(),(0,s.iD)("div",de,[_e,(0,s._)("span",fe,"00:"+(0,x.zw)(t.value<10?`0${t.value}`:t.value),1)]))}});const ye=we;var he=ye;const ge=e=>((0,s.dD)("data-v-fe42771a"),e=e(),(0,s.Cn)(),e),ke=ge((()=>(0,s._)("span",null,null,-1))),be={class:"position-absolute position-center-center registration-confirm-form__container"},xe=ge((()=>(0,s._)("h1",{class:"main-title"},"Регистрация",-1))),Ce=ge((()=>(0,s._)("p",{class:"registration-confirm-form__subtitle"},"Чтобы подтвердить свою учётную запись, введите код, который был отправлен на вашу электронную почту.",-1))),Te=ge((()=>(0,s._)("div",{class:"divider"},null,-1)));var Pe=(0,s.aZ)({__name:"RegistrationConfirm",setup(e){const t=L(),a=(0,r.tv)(),o=(0,b.iH)(!1),u=(0,b.iH)(""),c=()=>{a.push({path:i})},p=e=>new Promise((t=>setTimeout(t,e))),v=async()=>await M.Z.post(V,{code:u.value});let m;const d=async()=>{const e=v(),t=p(400);return await Promise.all([e,t]),await e};async function _(){o.value=!0,m&&clearTimeout(m),d().then((e=>{o.value=!1,localStorage.setItem("jwtToken",e.data.token),a.push({path:l})}))}return(e,a)=>((0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,x.C_)({"with-opacity":o.value})},[(0,s.Wm)(U,{type:"secondary-icon",text:"",enterPress:!1,class:"auth-back-btn",onClickEvent:c},{default:(0,s.w5)((()=>[ke])),_:1}),(0,s._)("div",be,[xe,Ce,(0,s.Wm)(Z,{value:u.value,onInputText:a[0]||(a[0]=e=>u.value=e),name:"registration_code",label:"Код подтверждения",type:"text"},null,8,["value"]),(0,s.Wm)(U,{type:"primary",text:"Зарегистрироваться",enterPress:!0,onClickEvent:_,class:"mx-auto mt-5"}),Te,(0,s.Wm)(he)]),o.value?((0,s.wg)(),(0,s.j4)(z,{key:0,class:"position-absolute position-center-center"})):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)])),_:1}))}});const We=(0,y.Z)(Pe,[["__scopeId","data-v-fe42771a"]]);var Ze=We;const Ie=e=>((0,s.dD)("data-v-4597fb5d"),e=e(),(0,s.Cn)(),e),je={key:0,class:"w-100 h-100"},De=Ie((()=>(0,s._)("span",null,null,-1))),Ue={class:"position-absolute position-center-center recovery-form"},Ee=Ie((()=>(0,s._)("h1",{class:"main-title"},"Восстановление пароля",-1))),Se=Ie((()=>(0,s._)("p",{class:"recovery-form__subtitle"},"Чтобы подтвердить свою учётную запись, введите код, который был отправлен на вашу электронную почту.",-1)));var He=(0,s.aZ)({__name:"PasswordRecovery",setup(e){const t=L(),a=(0,r.tv)(),l=(0,b.iH)(!1),i=()=>{l.value=!0,setTimeout((()=>{l.value=!1,a.push({path:p})}),400)},u=()=>{a.push({path:o})};return(e,a)=>((0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",je,[(0,s._)("div",{class:(0,x.C_)({"with-opacity":l.value})},[(0,s.Wm)(U,{type:"secondary-icon",text:"",enterPress:!1,class:"auth-back-btn",onClickEvent:u},{default:(0,s.w5)((()=>[De])),_:1}),(0,s._)("div",Ue,[Ee,Se,(0,s.Wm)(Z,{label:"Email",type:"email",class:"login-email"}),(0,s.Wm)(U,{type:"primary",text:"Продолжить",class:"mt-6 mx-auto",enterPress:!0,onClickEvent:i})])],2),l.value?((0,s.wg)(),(0,s.j4)(z,{key:0,class:"position-absolute position-center-center"})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1}))}});const qe=(0,y.Z)(He,[["__scopeId","data-v-4597fb5d"]]);var Oe=qe;const $e=e=>((0,s.dD)("data-v-be970642"),e=e(),(0,s.Cn)(),e),Fe={key:0},Re=$e((()=>(0,s._)("span",null,null,-1))),ze={class:"position-absolute position-center-center recovery-form"},Le=$e((()=>(0,s._)("h1",{class:"main-title"},"Запрос на восстановление пароля отправлен",-1))),Me=$e((()=>(0,s._)("p",{class:"recovery-form__subtitle"},"Пожалуйста, введите код, который вы получили по электронной почте, чтобы подтвердить свою учётную запись и создать новый пароль.",-1))),Be=$e((()=>(0,s._)("div",{class:"divider"},null,-1))),Ae=$e((()=>(0,s._)("span",{class:"d-block"},"Не пришёл код?",-1)));var Ne=(0,s.aZ)({__name:"PasswordRecoveryCode",setup(e){const t=L(),a=(0,r.tv)(),o=()=>{a.push({path:v})},l=()=>{a.push({path:c})};return(e,a)=>{const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",Fe,[(0,s.Wm)(U,{type:"secondary-icon",text:"",enterPress:!1,class:"auth-back-btn",onClickEvent:l},{default:(0,s.w5)((()=>[Re])),_:1}),(0,s._)("div",ze,[Le,Me,(0,s.Wm)(Z,{label:"Введите код",type:"number"}),(0,s.Wm)(U,{type:"primary",text:"Продолжить",class:"mt-6 mx-auto",enterPress:!0,onClickEvent:o}),Be,Ae,(0,s._)("span",null,[(0,s.Wm)(r,{to:"#"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Нажмите здесь ")])),_:1}),(0,s.Uk)(", чтобы повторно отправить код ")])])])):(0,s.kq)("",!0)])),_:1})}}});const Ve=(0,y.Z)(Ne,[["__scopeId","data-v-be970642"]]);var Ye=Ve;const Ge=e=>((0,s.dD)("data-v-4efdc0d7"),e=e(),(0,s.Cn)(),e),Je={key:0,class:"position-absolute position-center-center recovery-form"},Ke=Ge((()=>(0,s._)("h1",{class:"main-title"},"Восстановление пароля",-1))),Qe=Ge((()=>(0,s._)("p",{class:"recovery-form__subtitle"},"Пожалуйста, создайте новый пароль для вашей учётной записи",-1))),Xe={class:"d-flex"};var et=(0,s.aZ)({__name:"NewPasswordCreate",setup(e){const t=L(),a=(0,r.tv)(),o=()=>{a.push({path:m})};return(e,a)=>((0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",Je,[Ke,Qe,(0,s._)("div",Xe,[(0,s.Wm)(Z,{label:"Новый пароль",type:"text",style:{"margin-right":"20px"}}),(0,s.Wm)(Z,{label:"Повторите пароль",type:"text"})]),(0,s.Wm)(U,{type:"primary",text:"Завершить",class:"mt-6 mx-auto",enterPress:!0,onClickEvent:o})])):(0,s.kq)("",!0)])),_:1}))}});const tt=(0,y.Z)(et,[["__scopeId","data-v-4efdc0d7"]]);var at=tt;const nt=e=>((0,s.dD)("data-v-1d282cc3"),e=e(),(0,s.Cn)(),e),st={key:0,class:"position-absolute position-center-center recovery-form"},rt=nt((()=>(0,s._)("h1",{class:"main-title"},"Пароль успешно изменён!",-1)));var ot=(0,s.aZ)({__name:"PasswordRecoverySuccess",setup(e){const t=L(),a=(0,r.tv)(),l=()=>{a.push({path:o})};return(e,a)=>((0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",st,[rt,(0,s.Wm)(U,{type:"primary",text:"Продолжить",class:"mt-6 mx-auto",enterPress:!0,onClickEvent:l})])):(0,s.kq)("",!0)])),_:1}))}});const lt=(0,y.Z)(ot,[["__scopeId","data-v-1d282cc3"]]);var it=lt;const ut={class:"auth-template"},ct={class:"auth-template__container"},pt=(0,s._)("a",{class:"logo"},null,-1),vt={class:"position-relative w-100 h-100"};var mt=(0,s.aZ)({__name:"AuthPage",setup(e){const t=(0,r.yj)(),a=(0,s.Fl)((()=>{switch(t.path){case o:return ae;case i:return ce;case u:return Ze;case c:return Oe;case p:return Ye;case v:return at;case m:return it;default:return!1}}));return(e,t)=>((0,s.wg)(),(0,s.iD)("div",ut,[(0,s._)("div",ct,[pt,(0,s._)("div",vt,[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,b.SU)(a))))])])]))}});const dt=mt;var _t=dt;const ft=[{path:l,component:k},{path:o,component:_t},{path:i,component:_t},{path:u,component:_t},{path:c,component:_t},{path:p,component:_t},{path:v,component:_t},{path:m,component:_t}],wt=(0,r.p7)({history:(0,r.PO)("/"),routes:ft});var yt=wt,ht=a(65),gt=(0,ht.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,n.ri)(f).use(gt).use(yt).mount("#app")}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,r){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],r=e[c][2];for(var l=!0,i=0;i<n.length;i++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(l=!1,r<o&&(o=r));if(l){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,o=n[0],l=n[1],i=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(i)var c=i(a)}for(t&&t(n);u<o.length;u++)r=o[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2824)}));n=a.O(n)})();
//# sourceMappingURL=app.02da81a2.js.map