(function(){"use strict";var e={2824:function(e,t,a){var n=a(9242),s=(a(7658),a(3396)),r=a(2483);const o="/login",l="/",i="/registration",u="/registration/confirm",c="/login/recovery_password",p="/login/recovery_password_confirm",v="/login/recovery_password_new",m="/login/recovery_password_success";var d=(0,s.aZ)({__name:"App",setup(e){const t=localStorage.getItem("jwtToken"),a=(0,r.tv)(),n=window.location.pathname;return t||n===o||n===i||a.push({path:o}),(e,t)=>{const a=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(a)}}});const _=d;var f=_;function w(e,t){return(0,s.wg)(),(0,s.iD)("h1",null,"Добро пожаловать")}var y=a(89);const h={},g=(0,y.Z)(h,[["render",w]]);var k=g,b=a(4870),x=a(7139);const C=["type","autocomplete"],T={key:0,class:"error-message"};var P=(0,s.aZ)({__name:"TextInput",props:{label:null,type:null,value:null,errors:null,name:null},emits:["inputText"],setup(e,{emit:t}){const a=e,r=(0,b.iH)([]);(0,s.m0)((()=>{a?.errors?.length&&(r.value=[...a?.errors])}));const o=(0,s.Fl)((()=>r.value?.filter((e=>e.name===a.name)).length)),l=(0,s.Fl)((()=>r.value?.filter((e=>e.name===a.name))[0].message)),i=()=>{r.value=[...r.value?.filter((e=>e.name!==a.name))]},u=(0,b.iH)(!1),c=(0,b.iH)(a.value),p=()=>{u.value=!1},v=()=>u.value=!0,m=e=>{i(),t("inputText",e.target.value)};return(t,a)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("label",{class:(0,x.C_)(["custom-input",{focus:u.value,"width-value":c.value,error:(0,b.SU)(o)}])},[(0,s.wy)((0,s._)("input",{type:e.type,onFocus:v,onBlur:p,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),onInput:m,autocomplete:"password"===e.type},null,40,C),[[n.YZ,c.value]]),(0,s._)("span",null,(0,x.zw)(e.label),1)],2),(0,b.SU)(o)?((0,s.wg)(),(0,s.iD)("span",T,"* "+(0,x.zw)((0,b.SU)(l)),1)):(0,s.kq)("",!0)]))}});const W=P;var Z=W;const I=["onClick"];var j=(0,s.aZ)({__name:"CustomBtn",props:{type:null,text:{default:""},enterPress:{type:Boolean,default:!1}},emits:["clickEvent"],setup(e,{emit:t}){const a=e,r=(0,s.Fl)((()=>{switch(a.type){case"primary":return"btn-primary";case"secondary-icon":return"btn-secondary-icon";default:return""}})),o=()=>t("clickEvent");return(0,s.bv)((()=>{a.enterPress&&document.addEventListener("keyup",(e=>{"Enter"===e.code&&o()}))})),(t,a)=>((0,s.wg)(),(0,s.iD)("button",{class:(0,x.C_)(["btn",(0,b.SU)(r)]),onClick:(0,n.iM)(o,["prevent","stop"])},[(0,s.WI)(t.$slots,"default"),(0,s.Uk)(" "+(0,x.zw)(e.text),1)],10,I))}});const D=(0,y.Z)(j,[["__scopeId","data-v-3bcd04b6"]]);var U=D;const E=e=>((0,s.dD)("data-v-117cc3e2"),e=e(),(0,s.Cn)(),e),S={class:"loader"},H=E((()=>(0,s._)("div",{class:"lds-ring"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1))),q=E((()=>(0,s._)("span",null,"Пожалуйста, подождите",-1))),O=[H,q];function F(e,t){return(0,s.wg)(),(0,s.iD)("div",S,O)}const R={},$=(0,y.Z)(R,[["render",F],["__scopeId","data-v-117cc3e2"]]);var z=$;const L=()=>{const e=(0,b.iH)(!1);return setTimeout((()=>e.value=!0),0),e};var M=a(4161);const B="http://frelance-admin/:7000/api/auth/registration",A="http://frelance-admin/:7000/api/auth/registration-confirm",N="http://frelance-admin/:7000/api/auth/login",V=e=>((0,s.dD)("data-v-164651c8"),e=e(),(0,s.Cn)(),e),Y={key:0,class:"position-absolute position-center-center login-form"},G=V((()=>(0,s._)("h1",{class:"main-title"},"Вход в личный кабинет",-1))),J={autocomplete:"on"},K=V((()=>(0,s._)("div",{class:"divider"},"или",-1)));var Q=(0,s.aZ)({__name:"LoginForm",setup(e){const t=(0,r.tv)(),a=(0,b.iH)({email:"",password:""}),o=(0,b.iH)(!1),i=(0,b.iH)([]),u=L(),c=()=>{i.value=[];const e=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;let t;for(t in a.value)""===a.value[t]&&i.value.push({name:t,message:"Не заполнено поле"});return!i.value.length&&(e.test(a.value.email)?!i.value.length:(i.value.push({name:"email",message:"Некорректный email"}),!1))},p=e=>new Promise((t=>setTimeout(t,e))),v=async()=>await M.Z.post(N,{...a.value});let m;const d=async()=>{const e=v(),t=p(400);return await Promise.all([e,t]),await e};async function _(){c()&&(o.value=!0,m&&clearTimeout(m),d().then((e=>{o.value=!1,localStorage.setItem("jwtToken",e.data.token),t.push({path:l})})))}return(e,t)=>{const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(u)?((0,s.wg)(),(0,s.iD)("div",Y,[G,(0,s._)("form",J,[(0,s.Wm)(Z,{errors:i.value,name:"email",value:a.value.email,label:"Email",type:"email",class:"login-email",onInputText:t[0]||(t[0]=e=>a.value.email=e)},null,8,["errors","value"]),(0,s.Wm)(Z,{errors:i.value,name:"password",value:a.value.password,label:"Пароль",type:"password",class:"login-password",onInputText:t[1]||(t[1]=e=>a.value.password=e)},null,8,["errors","value"])]),(0,s.Wm)(U,{type:"primary",text:"Войти",class:"form-btn",enterPress:!0,onClickEvent:_}),K,(0,s._)("span",null,[(0,s.Uk)(" У вас ещё нет аккаунта? "),(0,s.Wm)(r,{to:"/registration"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Зарегистрироваться ")])),_:1})]),o.value?((0,s.wg)(),(0,s.j4)(z,{key:0,class:"position-absolute position-center-center"})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1})}}});const X=(0,y.Z)(Q,[["__scopeId","data-v-164651c8"]]);var ee=X;const te=e=>((0,s.dD)("data-v-4e21829e"),e=e(),(0,s.Cn)(),e),ae={key:0,class:"position-absolute position-center-center registration-form__container"},ne=te((()=>(0,s._)("h1",{class:"main-title"},"Регистрация",-1))),se={autocomplete:"on",class:"registration-form"},re=te((()=>(0,s._)("div",{class:"divider"},"или",-1)));var oe=(0,s.aZ)({__name:"RegistrationForm",setup(e){const t=L(),a=(0,b.iH)([]),l=(0,b.iH)({full_name:"",email:"",password:"",repeat_password:""}),i=(0,r.tv)(),c=(0,b.iH)(!1),p=()=>{a.value=[];const e=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu,t=/^(?=.*\d)\w{3,20}$/m;let n;for(n in l.value)""===l.value[n]&&a.value.push({name:n,message:"Не заполнено поле"});return!a.value.length&&(e.test(l.value.email)||a.value.push({name:"email",message:"Некорректный email"}),t.test(l.value.password)?l.value.password!==l.value.repeat_password?(a.value.push({name:"repeat_password",message:"Не совпадают пароли"}),!1):!a.value.length:(a.value.push({name:"password",message:"Пароль должен быть минимум 8 символов и содержать латинские буквы и цифры"}),!1))},v=e=>new Promise((t=>setTimeout(t,e))),m=async()=>await M.Z.post(B,{...l.value});let d;const _=async()=>{const e=m(),t=v(400);return await Promise.all([e,t]),await e};async function f(){p()&&(c.value=!0,d&&clearTimeout(d),_().then((()=>{c.value=!1,i.push({path:u})})))}return(e,r)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",ae,[(0,s._)("div",{class:(0,x.C_)({"with-opacity":c.value})},[ne,(0,s._)("form",se,[(0,s.Wm)(Z,{errors:a.value,name:"full_name",label:"Имя",type:"text",value:l.value.email,onInputText:r[0]||(r[0]=e=>l.value.full_name=e),class:"registration-form__item"},null,8,["errors","value"]),(0,s.Wm)(Z,{errors:a.value,name:"email",label:"Email",type:"email",onInputText:r[1]||(r[1]=e=>l.value.email=e),class:"registration-form__item"},null,8,["errors"]),(0,s.Wm)(Z,{errors:a.value,name:"password",label:"Пароль",type:"password",onInputText:r[2]||(r[2]=e=>l.value.password=e),class:"registration-form__item"},null,8,["errors"]),(0,s.Wm)(Z,{errors:a.value,name:"repeat_password",label:"Повторите пароль",type:"password",onInputText:r[3]||(r[3]=e=>l.value.repeat_password=e),class:"registration-form__item"},null,8,["errors"])]),(0,s.Wm)(U,{type:"primary",text:"Зарегистрироваться",class:"form-btn",enterPress:!0,onClickEvent:f}),re,(0,s._)("span",null,[(0,s.Uk)(" У вас уже есть аккаунт? "),(0,s.Wm)(i,{to:(0,b.SU)(o)},{default:(0,s.w5)((()=>[(0,s.Uk)(" Войти ")])),_:1},8,["to"])]),c.value?((0,s.wg)(),(0,s.j4)(z,{key:0,class:"position-absolute position-center-center"})):(0,s.kq)("",!0)],2)])):(0,s.kq)("",!0)])),_:1})}}});const le=(0,y.Z)(oe,[["__scopeId","data-v-4e21829e"]]);var ie=le;const ue={key:0},ce=(0,s._)("span",{class:"d-block"},"Не пришёл код?",-1),pe=["onClick"],ve={key:1},me=(0,s._)("span",null,"Повторно отправить код можно через: ",-1),de={class:"fw-b"};var _e=(0,s.aZ)({__name:"SendCode",setup(e){const t=(0,b.iH)(59),a=(0,b.iH)(!1);let r;const o=()=>{t.value-1?t.value--:(a.value=!0,clearInterval(r))},l=()=>{t.value=59,a.value=!1,r=setInterval(o,950)};return(0,s.bv)((()=>{r=setInterval(o,950)})),(e,r)=>a.value?((0,s.wg)(),(0,s.iD)("div",ue,[ce,(0,s._)("span",null,[(0,s._)("a",{href:"",onClick:(0,n.iM)(l,["prevent"])}," Нажмите здесь ",8,pe),(0,s.Uk)(", чтобы повторно отправить код ")])])):((0,s.wg)(),(0,s.iD)("div",ve,[me,(0,s._)("span",de,"00:"+(0,x.zw)(t.value<10?`0${t.value}`:t.value),1)]))}});const fe=_e;var we=fe;const ye=e=>((0,s.dD)("data-v-fe42771a"),e=e(),(0,s.Cn)(),e),he=ye((()=>(0,s._)("span",null,null,-1))),ge={class:"position-absolute position-center-center registration-confirm-form__container"},ke=ye((()=>(0,s._)("h1",{class:"main-title"},"Регистрация",-1))),be=ye((()=>(0,s._)("p",{class:"registration-confirm-form__subtitle"},"Чтобы подтвердить свою учётную запись, введите код, который был отправлен на вашу электронную почту.",-1))),xe=ye((()=>(0,s._)("div",{class:"divider"},null,-1)));var Ce=(0,s.aZ)({__name:"RegistrationConfirm",setup(e){const t=L(),a=(0,r.tv)(),o=(0,b.iH)(!1),u=(0,b.iH)(""),c=()=>{a.push({path:i})},p=e=>new Promise((t=>setTimeout(t,e))),v=async()=>await M.Z.post(A,{code:u.value});let m;const d=async()=>{const e=v(),t=p(400);return await Promise.all([e,t]),await e};async function _(){o.value=!0,m&&clearTimeout(m),d().then((e=>{o.value=!1,localStorage.setItem("jwtToken",e.data.token),a.push({path:l})}))}return(e,a)=>((0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,x.C_)({"with-opacity":o.value})},[(0,s.Wm)(U,{type:"secondary-icon",text:"",enterPress:!1,class:"auth-back-btn",onClickEvent:c},{default:(0,s.w5)((()=>[he])),_:1}),(0,s._)("div",ge,[ke,be,(0,s.Wm)(Z,{value:u.value,onInputText:a[0]||(a[0]=e=>u.value=e),name:"registration_code",label:"Код подтверждения",type:"text"},null,8,["value"]),(0,s.Wm)(U,{type:"primary",text:"Зарегистрироваться",enterPress:!0,onClickEvent:_,class:"mx-auto mt-5"}),xe,(0,s.Wm)(we)]),o.value?((0,s.wg)(),(0,s.j4)(z,{key:0,class:"position-absolute position-center-center"})):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)])),_:1}))}});const Te=(0,y.Z)(Ce,[["__scopeId","data-v-fe42771a"]]);var Pe=Te;const We=e=>((0,s.dD)("data-v-4597fb5d"),e=e(),(0,s.Cn)(),e),Ze={key:0,class:"w-100 h-100"},Ie=We((()=>(0,s._)("span",null,null,-1))),je={class:"position-absolute position-center-center recovery-form"},De=We((()=>(0,s._)("h1",{class:"main-title"},"Восстановление пароля",-1))),Ue=We((()=>(0,s._)("p",{class:"recovery-form__subtitle"},"Чтобы подтвердить свою учётную запись, введите код, который был отправлен на вашу электронную почту.",-1)));var Ee=(0,s.aZ)({__name:"PasswordRecovery",setup(e){const t=L(),a=(0,r.tv)(),l=(0,b.iH)(!1),i=()=>{l.value=!0,setTimeout((()=>{l.value=!1,a.push({path:p})}),400)},u=()=>{a.push({path:o})};return(e,a)=>((0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",Ze,[(0,s._)("div",{class:(0,x.C_)({"with-opacity":l.value})},[(0,s.Wm)(U,{type:"secondary-icon",text:"",enterPress:!1,class:"auth-back-btn",onClickEvent:u},{default:(0,s.w5)((()=>[Ie])),_:1}),(0,s._)("div",je,[De,Ue,(0,s.Wm)(Z,{label:"Email",type:"email",class:"login-email"}),(0,s.Wm)(U,{type:"primary",text:"Продолжить",class:"mt-6 mx-auto",enterPress:!0,onClickEvent:i})])],2),l.value?((0,s.wg)(),(0,s.j4)(z,{key:0,class:"position-absolute position-center-center"})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1}))}});const Se=(0,y.Z)(Ee,[["__scopeId","data-v-4597fb5d"]]);var He=Se;const qe=e=>((0,s.dD)("data-v-be970642"),e=e(),(0,s.Cn)(),e),Oe={key:0},Fe=qe((()=>(0,s._)("span",null,null,-1))),Re={class:"position-absolute position-center-center recovery-form"},$e=qe((()=>(0,s._)("h1",{class:"main-title"},"Запрос на восстановление пароля отправлен",-1))),ze=qe((()=>(0,s._)("p",{class:"recovery-form__subtitle"},"Пожалуйста, введите код, который вы получили по электронной почте, чтобы подтвердить свою учётную запись и создать новый пароль.",-1))),Le=qe((()=>(0,s._)("div",{class:"divider"},null,-1))),Me=qe((()=>(0,s._)("span",{class:"d-block"},"Не пришёл код?",-1)));var Be=(0,s.aZ)({__name:"PasswordRecoveryCode",setup(e){const t=L(),a=(0,r.tv)(),o=()=>{a.push({path:v})},l=()=>{a.push({path:c})};return(e,a)=>{const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",Oe,[(0,s.Wm)(U,{type:"secondary-icon",text:"",enterPress:!1,class:"auth-back-btn",onClickEvent:l},{default:(0,s.w5)((()=>[Fe])),_:1}),(0,s._)("div",Re,[$e,ze,(0,s.Wm)(Z,{label:"Введите код",type:"number"}),(0,s.Wm)(U,{type:"primary",text:"Продолжить",class:"mt-6 mx-auto",enterPress:!0,onClickEvent:o}),Le,Me,(0,s._)("span",null,[(0,s.Wm)(r,{to:"#"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Нажмите здесь ")])),_:1}),(0,s.Uk)(", чтобы повторно отправить код ")])])])):(0,s.kq)("",!0)])),_:1})}}});const Ae=(0,y.Z)(Be,[["__scopeId","data-v-be970642"]]);var Ne=Ae;const Ve=e=>((0,s.dD)("data-v-4efdc0d7"),e=e(),(0,s.Cn)(),e),Ye={key:0,class:"position-absolute position-center-center recovery-form"},Ge=Ve((()=>(0,s._)("h1",{class:"main-title"},"Восстановление пароля",-1))),Je=Ve((()=>(0,s._)("p",{class:"recovery-form__subtitle"},"Пожалуйста, создайте новый пароль для вашей учётной записи",-1))),Ke={class:"d-flex"};var Qe=(0,s.aZ)({__name:"NewPasswordCreate",setup(e){const t=L(),a=(0,r.tv)(),o=()=>{a.push({path:m})};return(e,a)=>((0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",Ye,[Ge,Je,(0,s._)("div",Ke,[(0,s.Wm)(Z,{label:"Новый пароль",type:"text",style:{"margin-right":"20px"}}),(0,s.Wm)(Z,{label:"Повторите пароль",type:"text"})]),(0,s.Wm)(U,{type:"primary",text:"Завершить",class:"mt-6 mx-auto",enterPress:!0,onClickEvent:o})])):(0,s.kq)("",!0)])),_:1}))}});const Xe=(0,y.Z)(Qe,[["__scopeId","data-v-4efdc0d7"]]);var et=Xe;const tt=e=>((0,s.dD)("data-v-1d282cc3"),e=e(),(0,s.Cn)(),e),at={key:0,class:"position-absolute position-center-center recovery-form"},nt=tt((()=>(0,s._)("h1",{class:"main-title"},"Пароль успешно изменён!",-1)));var st=(0,s.aZ)({__name:"PasswordRecoverySuccess",setup(e){const t=L(),a=(0,r.tv)(),l=()=>{a.push({path:o})};return(e,a)=>((0,s.wg)(),(0,s.j4)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[(0,b.SU)(t)?((0,s.wg)(),(0,s.iD)("div",at,[nt,(0,s.Wm)(U,{type:"primary",text:"Продолжить",class:"mt-6 mx-auto",enterPress:!0,onClickEvent:l})])):(0,s.kq)("",!0)])),_:1}))}});const rt=(0,y.Z)(st,[["__scopeId","data-v-1d282cc3"]]);var ot=rt;const lt={class:"auth-template"},it={class:"auth-template__container"},ut=(0,s._)("a",{class:"logo"},null,-1),ct={class:"position-relative w-100 h-100"};var pt=(0,s.aZ)({__name:"AuthPage",setup(e){const t=(0,r.yj)(),a=(0,s.Fl)((()=>{switch(t.path){case o:return ee;case i:return ie;case u:return Pe;case c:return He;case p:return Ne;case v:return et;case m:return ot;default:return!1}}));return(e,t)=>((0,s.wg)(),(0,s.iD)("div",lt,[(0,s._)("div",it,[ut,(0,s._)("div",ct,[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,b.SU)(a))))])])]))}});const vt=pt;var mt=vt;const dt=[{path:l,component:k},{path:o,component:mt},{path:i,component:mt},{path:u,component:mt},{path:c,component:mt},{path:p,component:mt},{path:v,component:mt},{path:m,component:mt}],_t=(0,r.p7)({history:(0,r.PO)("/"),routes:dt});var ft=_t,wt=a(65),yt=(0,wt.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,n.ri)(f).use(yt).use(ft).mount("#app")}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,r){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],r=e[c][2];for(var l=!0,i=0;i<n.length;i++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(l=!1,r<o&&(o=r));if(l){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,o=n[0],l=n[1],i=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(i)var c=i(a)}for(t&&t(n);u<o.length;u++)r=o[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2824)}));n=a.O(n)})();
//# sourceMappingURL=app.02ceea22.js.map